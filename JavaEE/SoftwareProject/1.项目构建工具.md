# 项目构建工具

本节的目标是理解项目构建原理，同时掌握Maven等项目构建工具。



## 项目构建原理

在软件开发过程中，我们经常会做以下几件事情：编码，加载依赖，编译，测试，打包，发布等， 这些过程在很大情况下是重复的，如果手动去做这些事情，除了浪费时间之外，还容易出错；所以这绝对是耗时耗力而又不讨好的事情。

于是，聪明的我们肯定会想：有没有一种专门的工具将这些固定的活动管理起来？然后调用几个简单的命令就可以搞定？答案是：有的，这种工具就叫做“项目构建工具”。

**那么项目构建工具主要做哪些事情呢？**

* 规范并完善一个完整的构建生命周期模型，标准化构建过程。
* 有效的依赖管理与版本管理。
* 为统一，标准的配置提供一套规范。



接下来我们介绍几款常用的构建工具！

## 常用项目构建工具

项目构建从诞生到发展再到成熟，经历了一个漫长的过程，从最开始的Ant到后来的Maven，再到Gradle，不同的工具各有特色与不足。

### 1. [Ant](https://ant.apache.org/)

我们先看看官方介绍：

> Apache Ant is a Java library and command-line tool whose mission is to drive processes described in build files as targets and extension points dependent upon each other. The main known usage of Ant is the build of Java applications. Ant supplies a number of built-in tasks allowing to compile, assemble, test and run Java applications. Ant can also be used effectively to build non Java applications, for instance C or C++ applications. More generally, Ant can be used to pilot any type of process which can be described in terms of targets and tasks.

Ant在Java构建工具上算是第一代产品了，它最主要的功能是能够将开发的生命周期定义成各个任务，规定它的依赖，然后就可以通过ant来执行这个任务了。这种基于XML的任务的定义可以很好地将软件生命周期规范起来，并能够通过命令将其执行。

但是ant有一个很致命的缺陷，那就是没办法管理依赖以及版本。我们一个工程，要使用很多第三方工具，不同的工具，不同的版本。每次打包都要自己手动去把正确的版本拷到lib下面去，不用说，这个工作既枯燥还特别容易出错。基于此，Maven 闪亮登场。

### 2. [Maven](https://maven.apache.org/download.cgi)

我们先来看看官方介绍：

> Apache Maven is a software project management and comprehension tool. Based on the concept of a project object model (POM), Maven can manage a project's build, reporting and documentation from a central piece of information.

可以看出，Maven能够基于POM来提供除了项目构建生命周期的管理之外的版本管理，是Java构建管理的第二代产品，它提出了一个很重要的概念就是约定大于配置，即按照约定成俗的构建生命周期来构建项目。本章主要讲解Maven的知识。

### 3.[Gradle](https://gradle.org/)

同样，我们看看官方是怎么介绍这个的：

> Gradle is an open-source build automation tool focused on flexibility and performance. Gradle build scripts are written using a [Groovy](http://groovy-lang.org/) or [Kotlin](https://kotlinlang.org/) DSL.
>
> - **Highly customizable** — Gradle is modeled in a way that is customizable and extensible in the most fundamental ways.
> - **Fast** — Gradle completes tasks quickly by reusing outputs from previous executions, processing only inputs that changed, and executing tasks in parallel.
> - **Powerful** — Gradle is the official build tool for Android, and comes with support for many popular languages and technologies.

虽然，Maven已经比Ant有了巨大的进步，可以满足绝大多数工程的构建了，但是它的POM文件的配置不是很简洁，同时“约定大于配置的规则”使得自定义Task不太灵活，换句话说，maven不鼓励你自己定义任务，它要求用户在maven的生命周期中使用插件的方式去工作。这有点像设计模式中的模板方法模式。说通俗一点，就是我使用maven的话，想灵活地定义自己的任务是不行的。基于这个原因，gradle做了很多改进。

Gradle基于Maven的仓库依赖的管理，增加了自定义任务的功能，同时能够支持更多的语言的构建管理。基于此，可以认为Gradle是第三代软件构建工具。



 ## Maven构建生命周期



## 仓库与依赖配置

### 仓库

### POM



## Hello World



## 常用构建命令

### 构建配置



## 家庭作业

